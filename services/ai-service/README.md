# AI Service

AI-powered code analysis, vulnerability fixing, and automated PR generation.

## Features

- **Code Analysis**: Explain vulnerabilities and security issues using AI
- **Auto-Fix**: Generate code fixes for detected vulnerabilities
- **PR Generation**: Automatically create pull requests with fixes

## Environment Variables

```bash
# Server Configuration
PORT=3004
NODE_ENV=development

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
AI_TEMPERATURE=0.7

# GitHub Configuration
GITHUB_TOKEN=your_github_token

# Service URLs
SCANNER_SERVICE_URL=http://localhost:3002
AUTH_SERVICE_URL=http://localhost:3001

# CORS
CORS_ORIGIN=http://localhost:3000
```

## API Endpoints

### POST /api/ai/explain

Explain a vulnerability using AI.

**Request:**

```json
{
  "vulnerabilityId": "vuln-123",
  "context": {
    "code": "...",
    "language": "javascript",
    "severity": "high"
  }
}
```

### POST /api/ai/fix

Generate a code fix for a vulnerability.

**Request:**

```json
{
  "vulnerabilityId": "vuln-123",
  "includeTests": true
}
```

### POST /api/ai/generate-pr

Create a pull request with vulnerability fixes.

**Request:**

```json
{
  "vulnerabilityIds": ["vuln-123", "vuln-456"],
  "title": "Security fixes for critical vulnerabilities",
  "description": "Automated fixes generated by AI"
}
```

## Development

```bash
# Install dependencies
pnpm install

# Start development server
pnpm dev

# Build for production
pnpm build

# Start production server
pnpm start
```
